<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>train Access</title>
  <link rel="stylesheet" type="text/css" href="assets/css/bootstrap.min.css">
<link rel="stylesheet" href="assets/css/style.css">
  <link rel="stylesheet" href="assets/css/style.css">
  <script src="assets/js/jquery.min.js" charset="utf-8"></script>
  <script src="assets/js/bootstrap.min.js" charset="utf-8"></script>
</head>
<body style = "padding-top: 70px;">
  <!-- Static navbar -->
  <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">train Access</a>
      </div>
    </div>
  </nav>
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <p class="text-right"><span class="badge badge-active">1</span> Booking <span class="badge badge-active">2</span> Review <span class="badge badge-active">3</span> Payment <span class="badge">4</span> Procces <span class="badge">5</span> E-ticket Issued</p>
      </div>
    </div>
    <h1>Payment</h1>
    <div class="alert alert-info text-center">Complete payment in less than <span id="countdown"></span> <i class="glyphicon glyphicon-time"></i></div>
    <div class="row">
      <div class="col-lg-9">
        <nav>
          <ul class="nav nav-tabs">
            <li role="presentation" class="active"><a href="#atm" data-toggle="tab">ATM</a></li>
            <li role="presentation"><a href="#transfer" data-toggle="tab">Transfer</a></li>
          </ul>
        </nav>
        <div class="tab-content">
          <div class="tab-pane active" id="atm">
            <div class="panel panel-primary">
              <div class="panel-heading">
                <h3 class="panel-title">ATM</h3>
              </div>
              <div class="panel-body">
                <h3>ATM</h3>
                <table class="table">
                  <tr>
                    <td>Ciremai (Adult) x 2</td>
                    <td>Rp 230.000,-</td>
                  </tr>
                  <tr>
                    <td>Harina (Adult) x 2</td>
                    <td>Rp 240.000,-</td>
                  </tr>
                  <tr>
                    <td>Convenience fee</td>
                    <td>Rp 15.000,-</td>
                  </tr>
                  <tr>
                    <td>Total price</td>
                    <td>Rp 485.000,-</td>
                  </tr>
                </table>
                <button type="button" class="btn btn-primary" onclick="directProcess()"><span class="glyphicon glyphicon-lock"></span> Pay via ATM</button>
              </div>
            </div>
          </div>
          <div class="tab-pane" id="transfer">
            <div class="panel panel-primary">
              <div class="panel-heading">
                <h3 class="panel-title">Transfer</h3>
              </div>
              <div class="panel-body">
                <h3>Choose Bank</h3>
                <ul class="list-group">
                  <li class="list-group-item"><input type="radio" name="" value="BCA" checked> BCA</li>
                  <li class="list-group-item"><input type="radio" name="" value="Mandiri"> Mandiri</li>
                  <li class="list-group-item"><input type="radio" name="" value="BRI"> BRI</li>
                  <li class="list-group-item"><input type="radio" name="" value="BNI"> BNI</li>
                </ul>
                <h3>Price Detail</h3>
                <table class="table">
                  <tr>
                    <td>Ciremai (Adult) x 2</td>
                    <td>Rp 230.000,-</td>
                  </tr>
                  <tr>
                    <td>Harina (Adult) x 2</td>
                    <td>Rp 240.000,-</td>
                  </tr>
                  <tr>
                    <td>Convenience fee</td>
                    <td>Rp 15.000,-</td>
                  </tr>
                  <tr>
                    <td>Total price</td>
                    <td>Rp 485.000,-</td>
                  </tr>
                </table>
                <button type="button" class="btn btn-primary" onclick="directProcess()"><span class="glyphicon glyphicon-lock"></span> Pay via Transfer </button>
              </div>
            </div>
          </div>
        </div>
      </div> <!-- col-lg-9 -->
      <div class="col-lg-3">
        <div class="panel panel-default">
          <ul class="list-group">
            <li id="booking-id"class="list-group-item">
              <h4>Booking ID</h4>
              <p class="text-primary">215254330</p>
            </li>
            <li id="train-details"class="list-group-item">
              <h4>Train Details</h4>
              <p>Ciremai</p>
              <p class="text-primary">Bandung-Cirebon</p>
              <p id="dep-date"></p>
              <p>06:15 - 10:27</p>
              <br>
              <p>Harina</p>
              <p class="text-primary">Cirebon-Bandung</p>
              <p id="dep2-date"></p>
              <p>06:15 - 10:27</p>
            </li>
            <li id="list-passengers"class="list-group-item">
              <h4>List of Passenger(s)</h4>
              <ul class="list-group">
                <li class="list-group-item">Mr. Nur Rohman (Adult)</li>
                <li class="list-group-item">Mrs. Azri Aliva Alhania (Adult)</li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div> <!-- row -->
  </div> <!-- container -->
  <nav class="navbar navbar-inverse navbar-static-bottom" style="margin-bottom: 0; margin-top: 1em;">
  <div class="container">
    <div class="navbar-header">
      <div class="row">
        <a class="navbar-brand" href="index.html">train Access</a>
      </div>
      <div class="row" style="color: white;">
        <div class="col-lg-6">
          <p>
            Kelompok 1 - Sistem Informasi Tahun Akademik 2017/2018
            Anggota Kelompok:
            <ul>
              <li>Azri Aliva Alhania (15152400)</li>
              <li>Nur Rohman (151524025)</li>
              <li>Sukma Setyaji (151524030)</li>
            </ul>
          </p>
        </div>
        <div class="col-lg-6">
          <!-- technology support -->
        </div>
      </div>
    </div>
  </div>
</nav>
<script type="text/javascript">
window.onload = setDate();
function setDate(){
  var date_now = new Date();
  var date_return = new Date(date_now.getTime() + 345599887);
  document.getElementById("dep-date").innerHTML = formatDate(date_now);
  document.getElementById("dep2-date").innerHTML = formatDate(date_return);
}

function formatDate(date) {
  var monthNames = [
    "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"
  ];

  var dayNames = [
    "Sunday", "Monday", "Tuesday","Wednesday", "Thursday", "Friday", "Saturday"
  ];

  var dayIndex = date.getDay();
  var datenumber = date.getDate();
  var monthIndex = date.getMonth();
  var year = date.getFullYear();

  return dayIndex = dayNames[dayIndex] + ', ' + datenumber + ' ' + monthNames[monthIndex] + ' ' + year;
}

document.getElementById('countdown').innerHTML = 30 + ":" + 00;
startTimer();

function startTimer() {
  var presentTime = document.getElementById('countdown').innerHTML;
  var timeArray = presentTime.split(/[:]+/);
  var m = timeArray[0];
  var s = checkSecond((timeArray[1] - 1));
  if(s==59){m=m-1}
  if(m<0){
    alert("Time's up you'll be directed to previous process");
    window.location.href = "reguler/returntrain.html";
  }//if(m<0){alert('countdown completed')}

  document.getElementById('countdown').innerHTML =
    m + ":" + s;
  setTimeout(startTimer, 1000);
}

function checkSecond(sec) {
  if (sec < 10 && sec >= 0) {sec = "0" + sec}; // add zero in front of numbers < 10
  if (sec < 0) {sec = "59"};
  return sec;
}

function directProcess() {
  window.location.href = "process.html";
}
</script>
</body>
</html>
